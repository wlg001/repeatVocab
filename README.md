# 英语单词听默APP (English Vocabulary Dictation App)

## 项目概述
一个本地Web应用程序，通过快速短期重复输入来增强英语单词的肌肉记忆。

## 核心功能需求

### 1. 熟练度系统
- 每个单词初始熟练度：-100
- 正确输入（完整拼写正确）：熟练度 +1
- 错误输入（未完成或中途字母错误）：熟练度 -1
- 实时判断拼写错误
- 拼写错误时，要求重新完整输入该单词
- 连续错误5次后，显示正确答案

### 2. 练习模式
1. **听发音默写模式**：播放单词发音，用户输入拼写
   - 按 `Alt` 键可重新播放当前单词发音（无需使用鼠标）
2. **看中文意思默写模式**：显示一个中文释义，用户输入英文单词
   - 中文模式下在输入框显示首字母提示（浅色背景+placeholder）
   - 首字母保持原始大小写，帮助区分相同中文释义的不同单词
   - 按 `Alt` 键可播放发音作为提示

### 3. 统计功能
- 单词加入时间
- 每个单词的练习次数
- 正确typing次数
- 错误typing次数

### 4. 复习策略
- 每次随机选择熟练度最低的20个单词进行练习
- 优先练习不熟悉的单词

### 5. 单词管理
- 手动输入单词
- 需要输入：英文单词、中文释义（可多个）
- 本地存储所有数据
- 支持浏览器同步（Chrome/Edge登录账号后自动启用）
  - 自动检测`chrome.storage.sync`可用性
  - 数据自动同步到云端，多设备共享
  - 同步失败时显示具体错误原因（写入限制、空间已满、访问被拒绝等）

## 技术方案

### 前端技术栈
- HTML5
- CSS3
- Vanilla JavaScript (或可选择 Vue.js/React)

### 数据存储
- LocalStorage / IndexedDB (用于本地数据持久化)

### 语音功能
- Web Speech API (用于单词发音)

## 任务拆解

### Phase 1: 基础架构 (Foundation)
- [ ] 1.1 创建项目基础文件结构
- [ ] 1.2 设计数据模型 (单词对象结构)
- [ ] 1.3 实现本地存储模块 (LocalStorage封装)
- [ ] 1.4 创建基础UI框架和样式

### Phase 2: 单词管理 (Word Management)
- [ ] 2.1 实现单词添加功能
  - 输入英文单词
  - 输入中文释义（支持多个释义）
  - 记录添加时间
- [ ] 2.2 实现单词列表展示
- [ ] 2.3 实现单词删除/编辑功能（可选）

### Phase 3: 核心练习逻辑 (Core Practice Logic)
- [ ] 3.1 实现熟练度管理系统
  - 初始化熟练度 (-100)
  - 更新熟练度逻辑 (+1/-1)
- [ ] 3.2 实现实时输入校验
  - 逐字母判断正确性
  - 检测错误并标记
- [ ] 3.3 实现错误处理逻辑
  - 错误时要求重新输入
  - 连续错误5次显示答案
- [ ] 3.4 实现复习策略
  - 获取熟练度最低的20个单词
  - 随机排序

### Phase 4: 练习模式实现 (Practice Modes)
- [ ] 4.1 听发音默写模式
  - 集成 Web Speech API
  - 实现发音播放功能
  - 创建练习界面
- [ ] 4.2 看中文意思默写模式
  - 随机选择一个中文释义显示
  - 创建练习界面

### Phase 5: 统计功能 (Statistics)
- [ ] 5.1 记录练习数据
  - 练习次数统计
  - 正确/错误次数统计
- [ ] 5.2 实现统计数据展示
  - 单词详细统计
  - 整体练习统计
  - 可视化图表（可选）

### Phase 6: UI/UX优化 (UI/UX Enhancement)
- [ ] 6.1 优化界面设计和交互
- [ ] 6.2 添加动画和视觉反馈
- [ ] 6.3 响应式设计

### Phase 7: 测试和优化 (Testing & Optimization)
- [ ] 7.1 功能测试
- [ ] 7.2 性能优化
- [ ] 7.3 用户体验改进

## 数据结构设计

```javascript
// 单词对象结构
{
  id: "1733901234567-a7b3c9d2e", // 时间戳-随机字符串，确保唯一性
  word: "example",
  meanings: ["示例", "例子"],
  tags: ["基础", "常用"], // 标签分类，支持多标签
  proficiency: -100,
  addedTime: "2025-12-08T10:00:00Z",
  stats: {
    practiceCount: 0,
    correctCount: 0,
    errorCount: 0,
    lastPracticeTime: null
  }
}
```

## 需求确认结果

1. **界面语言**：✅ 使用中文界面
2. **单词数量限制**：✅ 无限制
3. **练习模式切换**：✅ 使用可选框，可单独勾选或同时勾选两种模式
4. **熟练度上限**：✅ 无上限
5. **每次练习的单词数量**：✅ 每次从熟练度最低的20个单词中随机出现一个词
6. **数据导入导出**：✅ 手动输入单词，暂不考虑批量导入
7. **发音来源**：✅ 考虑使用更好的发音API（需要配置）

## 实现细节

- 练习时从熟练度最低的Top 20单词中随机抽取
- 练习模式通过复选框控制，支持：
  - 仅听音模式
  - 仅看中文模式
  - 两种模式混合（随机切换）
- 使用在线词典API获取更好的发音质量（如有道词典API或其他）
